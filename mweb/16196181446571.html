<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  python中import的用法 - PythonJoy
  
  </title>
 <meta name="description" content="">
 <link href="atom.xml" rel="alternate" title="PythonJoy" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">PythonJoy</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; PythonJoy</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>Python</label></li>

          
            <li><a title="列表生成式" href="16196181446355.html">列表生成式</a></li>
          
            <li><a title="网络编程" href="16196181446446.html">网络编程</a></li>
          
            <li><a title="面向对象 #" href="16196181446529.html">面向对象 #</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>Python</span></li>
                        
                          <li><a title="列表生成式" href="16196181446355.html">列表生成式</a></li>
                        
                          <li><a title="网络编程" href="16196181446446.html">网络编程</a></li>
                        
                          <li><a title="面向对象 #" href="16196181446529.html">面向对象 #</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>python中import的用法</h1>

<h2 id="toc_0">import语句的作用</h2>

<p>import语句用来导入其他python文件（专业术语：模块module），使用该模块里定义的类(class)、方法(def)、变量，从而达到复用代码的目的。</p>

<p>下面基于python3来总结下import语句的几种用法</p>

<h2 id="toc_1">导入的写法</h2>

<h3 id="toc_2">1.<code>import module_name</code></h3>

<p>这种写法只能导入package或module,并且使用内部函数或者类的时侯也要加上package或module name的前缀。<br/>
import后直接接模块名。这种情况下，python会在两个地方寻找这个模块</p>

<ol>
<li>sys.path（通过运行代码<code>import sys; print(sys.path)</code>查看）下，内置模块和自行安装工具包（例如pip安装）的目录一般就在sys.path中，所以这类库可以直接import;</li>
<li>运行文件所在目录的文件，例如a.py和b.py文件都在test目录目录下，示例如下：</li>
</ol>

<pre><code class="language-text">test/
    a.py
    b.py
</code></pre>

<pre><code class="language-text"># a.py
import os
import b
b.printSelf()
</code></pre>

<pre><code class="language-text"># b.py
def printSelf():
    print(&#39;In b&#39;)
</code></pre>

<p>此时在test目录下，运行<code>python a.py</code>命令，正常运行且打印出<code>In b</code>，说明上述写法没问题。<br/>
<strong>实战分析</strong><br/>
之前用pip3安装了appium后，<code>import appium</code>时报<code>No module name appium</code>，是由于安装的路径在<code>/Library/Python/3.7/site-packages</code>下，而这个路径没有在sys.path中，所以在其他路径下执行py文件会报错，而在<code>/Library/Python/3.7/site-packages</code>路径下直接import appium才不报错，是因为python运行文件所在目录的文件。<br/>
<strong>解决办法</strong></p>

<ul>
<li>使用python -m（后面分析）
<code>python3 -m pip install some-package</code></li>
</ul>

<ul>
<li>【简单粗暴法】由上面学到的知识可以得出一个方法，将第三方库的安装路径加在sys.path下</li>
</ul>

<pre><code class="language-text">//将这段代码加到python文件最上方
import sys
sys.path.append(r&#39;实际路径&#39;)
</code></pre>

<p>用上述方法导入原有的sys.path中的库没有问题。但是，最好不要用上述方法导入同目录下的文件！因为这<strong>可能会出错</strong>。演示这个错误需要用到import语句的第二种写法，所以先来学一学import的第二种写法。</p>

<h3 id="toc_3">2.<code>from package_name import module_name</code></h3>

<p>在test目录下新建目录step，在step中新建文件c.py</p>

<pre><code class="language-text">test/
    step/
        c.py
    a.py
    b.py
</code></pre>

<pre><code class="language-text"># c.py
def printSelf():
    print(&#39;In c&#39;)
</code></pre>

<p>a中怎样引入c.py模块呢</p>

<pre><code class="language-text"># a.py
from step import c

c.printSelf()
</code></pre>

<p>It&#39;s Ok!<br/>
如果用第一种写法导入同目录下的文件有可能会产生问题，下面用一个例子来说明：</p>

<p>在step目录下新建文件d.py</p>

<pre><code class="language-text">test/
    step/
        c.py
        d.py
    a.py
    b.py
</code></pre>

<pre><code class="language-text"># d.py
def printSelf():
    print(&#39;In d&#39;)
</code></pre>

<p>c.py修改一下，文件中直接导入d</p>

<pre><code class="language-text"># c.py
import d
def printSelf():
    print(&#39;In c&#39;)
</code></pre>

<p>再运行a.py时，会报d模块不存在。分析下报错原因，a里面<code>from step import c</code>导入c，然后在c.py中<code>import d</code>导入d模块，a.py与d.py在不同目录下，所以c导入d时报错。<br/>
而上面的错误在python2中就不会报错，这里就涉及到import的核心知识点相对导入和绝对导入，<strong>上面两种写法在python2是相对导入，而在python3中是绝对导入。</strong></p>

<h2 id="toc_4">绝对导入和相对导入</h2>

<p>绝对导入和相对导入的关键区别在于，绝对导入能直接import运行文件所在目录下的包或模块。在python3下是绝对导入，基于这一点，导入自己写的文件，如果是非运行入口文件，则需要相对导入。如上述的c.py是非运行入口文件，而a.py是运行入口文件，可以使用绝对导入。</p>

<pre><code class="language-text">#c.py
from . import d
def printSelf():
    print(&#39;In c&#39;)
</code></pre>

<p>这样再运行a.py就没毛病了<br/>
列举一下相对导入的写法：</p>

<pre><code class="language-text">from . import module_name。导入和自己同目录下的模块。
from .package_name import module_name。导入和自己同目录的包的模块。
from .. import module_name。导入上级目录的模块。
from ..package_name import module_name。导入位于上级目录下的包的模块。
</code></pre>

<p>当然还可以有更多的.，每多一个点就多往上一层目录。<br/>
上面说到“运行入口文件，可以使用绝对导入”，那我偏不，就要用相对导入，可不可以呢，比如写成下面这样：</p>

<pre><code class="language-text">#a.py
from .step import c
c.printSelf()
</code></pre>

<p>可以是可以，但。。不能用<code>python a.py</code>命令，而需要<code>python -m test.a</code><br/>
python -m中-m指令是为了让Python预先import你要的package或module给你，然后再执行script。</p>

<h2 id="toc_5">import的其他常用方法</h2>

<h3 id="toc_6">1. import moudle_name as alias。</h3>

<p>有些module_name比较长，之后写它时较为麻烦，或者module_name会出现名字冲突，可以用as来给它改名，如import numpy as np。</p>

<h3 id="toc_7">2. from module_name import function_name, variable_name, class_name。</h3>

<p>上面导入的都是整个模块，有时候我们只想使用模块中的某些函数、某些变量、某些类，用这种写法就可以了。使用逗号可以导入模块中的多个元素。<br/>
有时候导入的元素很多，可以使用反斜杠来换行，官方推荐使用括号。</p>

<h3 id="toc_8">3. from Tkinter import Tk, Frame, Button, Entry, Canvas, Text, \</h3>

<pre><code class="language-text">    LEFT, DISABLED, NORMAL, RIDGE, END  # 反斜杠换行
from Tkinter import (Tk, Frame, Button, Entry, Canvas, Text,
    LEFT, DISABLED, NORMAL, RIDGE, END) # 括号换行（推荐）
</code></pre>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="16196181446529.html"  title="Previous Post: 面向对象 #">&laquo; 面向对象 #</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="16196181446619.html" 
	        title="Next Post: 【Python3】import报错找不到这个模块">【Python3】import报错找不到这个模块 &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '16196181446571.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    


  </body>
</html>
