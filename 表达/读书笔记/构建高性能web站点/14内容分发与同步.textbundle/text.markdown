## 背景
利用NFS等共享文件系统可以帮助我们在多台服务器之间共享文件，但在这种机制下性能与可用性都会有一定的制约。例如图片服务器，NFS方式依赖单点的工作方式可能会造成文件访问的瓶颈，所以需要将文件复制到更多的服务器上，这样只要负载均衡调度器不出问题，文件访问本身将不会成为瓶颈。
如何实现复制呢？总的来说可以采用主动分发和被动同步，主要区别在于复制的发起发和触发方式不同。
* 主动分发
SSH：建立在应用层和传输层基础上的安全协议，可以用于传输任何数据。它实现了基于SSH通道的SCP和SFTP，可以实现远程拷贝文件。
* 同步
rsync：接收端将主动向文件服务器发起同步请求，并根据两段文件列表的差异，有选择性的进行更新，以保持它与文件服务器的内容一致。rsync通常情况下可以采用SSH作为传输通道。

分发还是同步
* 文件分发需要依赖一定的应用程序逻辑，比如通过SCP扩展来编写代码控制文件
传输，或者自己开发专用的分发程序，而文件同步可以对应用程序完全透明，部
署非常简单;
* 文件分发可以更好地控制触发条件，更加灵活，比如更容易实现多级复制，也就
是前面介绍的多级分发;
* 文件同步 (比如利用rsync)是一种天然的异步复制操作，不阻塞Web应用程序
的运行，而在Web应用中要想对文件分发实现异步复制操作，必须得借助其他支
持。