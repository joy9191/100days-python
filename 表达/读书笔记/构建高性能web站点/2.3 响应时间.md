**下载速度**
* 什么是下载速度
下载速度是单位时间内从服务器到客户端（例如用户的PC）的数据量，就是平常我们下载文件时应用程序里下载进度条上显示的数值，例如1.2KB/s
* 下载速度的单位
依据上面所说，下载速度的单位是B/s，单位时间内传输的字节数
* 下载速度的计算方法
显而易见，计算下载速度的方法是由传输的数据字节数除以这些数据从服务器开始发送到客户端完全接收的时间。
结合上一章所学到的，对时间（分母）更加具体的说法，是从数据的第一个比特由服务器网卡进入线路开始，到最后一个比特进入客户端网卡为止。
这个时间被称为**响应时间**
想要计算下载速度，关键是计算响应时间，因为需要传输的数据量大小很容易得到，例如一张图片32kb。

**如何计算响应时间**
理解了上一章带宽的概念，很容易推断出响应时间=发送时间+传输时间+处理时间
* 发送时间：数据量/带宽
* 传输时间：传播距离/传播速度
* 处理时间：数据在交换节点中为存储转发而进行一些必要的处理所花费的时间，例如有数据在缓冲区队列排队的时间。


问题1：发送时间中带宽要如何计算？如果是共享带宽怎么计算？
取决于发送端也就是服务器的网卡，千兆网卡是现在服务器的主流配置，也就是带宽为1000Mbit/s
问题2：数据传输经过交换节点时的数据转发要花费的时间如何计算？还是可以忽略不计。
读完这一节明白了一些，数据在进行转发时需要进行发送和处理，是会花费一定时间的，而且影响因素比较多，需要具体问题具体分析。
> 注意，这里说的实际速度，其实就是我们用浏览器或者其他下载工具时看到的下载速度值。

问题3：本节进行实地计算是粗略的估算，忽略了处理时间以及其他影响因素，那么浏览器或其他下载工具又是怎么获取下载速度值的？

**影响响应时间的因素**
* 因为使用到了HTTP协议，发送请求时会数据包会带上一定长度的网络协议附加信息，导致我们实际传输的有效数据要小于总的流量，增加了发送时间。
* 共享带宽时需要在队列中等待。
* 接收端需要写入磁盘操作的，完成了数据接收后还需要写入磁盘，操作完后才会进行下一次接收数据调用。
* 中继器、路由器的接收、转发时间，不过占用时间不多。

**一些习惯和约定**
比特的单位缩写为b（bit）
字节的单位缩写为B（Byte）
1B=8b
1KB=2<sup>10</sup>B=1024B
1kb=10<sup>3</sup>b=1000b

**互联互通**
如果用户与服务器使用的不同运营商的网络，数据必须经过两个运营商之间的互联节点，计算时需要考虑这部分的时间消耗。

