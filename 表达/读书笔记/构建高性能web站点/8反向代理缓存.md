### 代理
为了访问一些由于某种原因无法直接访问的站点，会通过指定的代理服务器，绕过某些限制来访问目标站点。
代理服务器工作原理：代理服务器将用户的HTTP请求转发到最终服务器，再将从服务器收到的响应数据返回给用户浏览器，相当于一个中间商，我们平时使用的抓包工具就是使用代理来进行工作的。
当用户端PC处于内部网络时，网关会使用NAT技术，将PC内部的IP地址与网关的外网IP地址进行相互转换，使得PC发出的请求可以到达外部网络的服务器，同时将返回数据正确传送给内部网络的PC。我们平时的办公网络使用的都是内部IP，是经过NAT转换之后通过出口IP进行实际请求。
上面说的场景中NAT的作用相当于代理服务器，区别在于代理服务器工作在应用层，只有当它支持某个协议的时候才可以转发该协议，而NAT工作在应用层以下，可以透明的转发应用层的协议。
问题1：NAT工作在应用层之下，为什么就能支持转发所有应用层协议的数据呢？
代理的特点：服务器只知道请求时通过代理或者网关发出来，并不知道背后是PC浏览器在请求，所以PC没有暴露在互联网中，有效提高安全性能，避免被攻击。
代理的缓存：假如一个公司内网通过代理服务器上网，那么只要有一个人访问一个文件，然后缓存在代理服务器上，那么下一个用户来请求就可以使用缓存，而不需要再次经过外部网络请求服务器了，并且节省了带宽。