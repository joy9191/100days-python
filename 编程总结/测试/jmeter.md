#### 接口录制

jmeter有自带的录制功能，HTTP代理服务器

![image-20210609174752727](D:\100days-python\编程总结\测试\image-20210609174752727.png)

1、设置端口号

2、设置目标控制器和分组方式，录制的接口会显示在这个控制器下

3、启动录制

录制的对象需要设置代理，ip为本机ip，端口号为上述设置的端口号

如果是https的请求还需要安装证书，不在此赘述

#### 控制器

##### if控制器

![img](https://img2018.cnblogs.com/blog/676861/201909/676861-20190911114037778-7783740.png)

默认采用jexl3 or groovy 表达式，不知道表达式如何使用的话，可使用Jmeter 的函数助手

![img](https://img2018.cnblogs.com/blog/676861/201909/676861-20190911140742042-262578409.png)



表达式需要注意

1、获取已有变量时需要用${}

2、表达式字符串必须要用引号，变量都认为是字符串的形式

举例：${__jexl3("${ischildren}"=="y",)}

##### 循环控制器

需要将循环控制器的循环次数设置为变量时需要注意，该变量必须是上一步结果树里面的，不能是同一个结果树里面的，如下图，之前把“获取设备id“放在与循环控制器同一个事物控制器里，就出现获取不到变量的情况导致循环控制器不能执行

![image-20210628171005922](D:\100days-python\编程总结\测试\image-20210628171005922.png)

#### bashshell语法

内置变量vars

put

get

putObject

getObject

